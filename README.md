# edutools-to-skypro
Инструмент для контроля выполнения заданий студентами в тренажере Edu Tools.

## Для чего это нужно?

Мы не можем прокидывать событие решенности тренажера на платформу (она их просто не примет), поэтому выдаем студнту код, который он введет на платформе.
Для этого мы переопределяем класс юниттеста так, чтобы после успешного завершения теста, в консоли выводился код. Например: 008200
Этот код студент вводит на платформе, а платформа только того и ждет – и считает задание выполненным.

## Как это выглядит на платформе?

В шаге, который нужно решить локально, показывается примерно такой текст:

```
Это задание вам нужно выполнить локально. Скачайте репозиторий и откройте его, используя инструкцию по ссылке. После того, как задание будет решено, в консоли появится шестизначный код. Введите его в поле ниже и задание будет зачтено. 

(Место для ввода кода)
```

## Как это реализуется в тренажере?

1. Когда мы пишем проверку, то наследуемся не от  TestCase(TestCase):, а  TestCase(SkyproTestCase).

2. Для этого мы создаем два класса и импортируем их:

```
import unittest

class StatMixin:
    def send_stat(self, result):
        if result.wasSuccessful():
            print("Задание выполнено! Ваш код:",  self.get_key())

class SkyproTestCase(StatMixin, unittest.TestCase):
    def run(self, *args, **kwargs):
        result = super().run(*args, **kwargs)
        self.send_stat(result)
        return result

```

3. Внутри класса тесткейса мы создаем метод get_key:

```
def get_key(self):
    return "008200"  # это код, который отправится на платформу.
```

Вот и все. Теперь после завершения теста, код из get_key появится в консоли. Только не забудьте испортировать классы!

Пока мы можем создать только один тесткейс (большее количество не поддеживается, но вы можете создать один юниттест, который вызывает другие)
